<script>
  // ðŸ”¥ Replace with your Firebase project credentials
  const firebaseConfig = {
   apiKey: "AIzaSyAFiy4hX-7d2_Xf8QfIYOiG8je0F9h0mT8",
  authDomain: "swastik-industry.firebaseapp.com",
  databaseURL: "https://swastik-industry-default-rtdb.firebaseio.com",
  projectId: "swastik-industry",
  storageBucket: "swastik-industry.firebasestorage.app",
  messagingSenderId: "981455584221",
  appId: "1:981455584221:web:9119915b1caf3c45055434",
  measurementId: "G-Z36M010W8D"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  const openChat = document.getElementById("openChat");
  const chatBox = document.getElementById("chatBox");
  const chatMessages = document.getElementById("chatMessages");
  const chatInput = document.getElementById("chatInput");
  const sendBtn = document.getElementById("sendBtn");

  const user = "User-" + Math.floor(Math.random() * 10000);

  openChat.addEventListener("click", () => {
    chatBox.style.display = chatBox.style.display === "flex" ? "none" : "flex";
  });

  sendBtn.addEventListener("click", sendMessage);
  chatInput.addEventListener("keypress", (e) => {
    if (e.key === "Enter") sendMessage();
  });

  function sendMessage() {
    const msg = chatInput.value.trim();
    if (!msg) return;
    const messageData = { user, text: msg, time: Date.now() };
    db.ref("messages").push(messageData);
    chatInput.value = "";
  }

  // Display messages in real time
  db.ref("messages").on("child_added", (snapshot) => {
    const data = snapshot.val();
    const div = document.createElement("div");
    div.textContent = `${data.user}: ${data.text}`;
    chatMessages.appendChild(div);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  });
</script>
